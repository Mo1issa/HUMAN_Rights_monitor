{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\human_rights_monitor_vscode\\\\human_rights_monitor_vscode\\\\frontend\\\\src\\\\components\\\\Cases\\\\CaseForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { casesAPI } from '../../api';\nimport { Typography, Box, Paper, Grid, TextField, Button, FormControl, InputLabel, Select, MenuItem, Chip, CircularProgress, Divider, Alert, FormHelperText, Tab, Tabs } from '@mui/material';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport SaveIcon from '@mui/icons-material/Save';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport FileUploader from '../common/FileUploader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CaseForm = () => {\n  _s();\n  const {\n    caseId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    currentUser\n  } = useAuth();\n  const isEditMode = Boolean(caseId);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    violation_types: [],\n    status: 'new',\n    priority: 'medium',\n    location: {\n      country: '',\n      region: '',\n      coordinates: null\n    },\n    date_occurred: '',\n    date_reported: '',\n    victims: [],\n    perpetrators: [],\n    evidence: []\n  });\n  const [loading, setLoading] = useState(isEditMode);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [tabValue, setTabValue] = useState(0);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  useEffect(() => {\n    if (isEditMode) {\n      const fetchCaseData = async () => {\n        try {\n          setLoading(true);\n          const response = await casesAPI.getCaseById(caseId);\n          setFormData(response.data);\n          setLoading(false);\n        } catch (error) {\n          var _error$response, _error$response$data;\n          setError('Failed to load case data: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message));\n          setLoading(false);\n        }\n      };\n      fetchCaseData();\n    }\n  }, [caseId, isEditMode]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Handle nested fields\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n\n    // Clear validation error when field is updated\n    if (validationErrors[name]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n  const handleViolationTypeChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      violation_types: e.target.value\n    }));\n  };\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handleFileUpload = async files => {\n    if (!isEditMode) {\n      // For new cases, just store the files temporarily\n      setUploadedFiles(files);\n      return;\n    }\n    try {\n      // For existing cases, upload the files to the server\n      const formData = new FormData();\n      files.forEach(file => {\n        formData.append('files', file);\n      });\n      const response = await casesAPI.uploadEvidence(caseId, formData);\n\n      // Update the evidence list in the form data\n      setFormData(prev => ({\n        ...prev,\n        evidence: [...prev.evidence, ...response.data]\n      }));\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError('Failed to upload evidence: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message));\n      throw error;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validate form\n    const errors = {};\n    if (!formData.title) errors.title = 'Title is required';\n    if (!formData.description) errors.description = 'Description is required';\n    if (formData.violation_types.length === 0) errors.violation_types = 'At least one violation type is required';\n    if (!formData.location.country) errors['location.country'] = 'Country is required';\n    if (!formData.date_occurred) errors.date_occurred = 'Date occurred is required';\n    if (Object.keys(errors).length > 0) {\n      setValidationErrors(errors);\n      return;\n    }\n    setSaving(true);\n    setError(null);\n    setSuccess(false);\n    try {\n      let response;\n      if (isEditMode) {\n        response = await casesAPI.updateCase(caseId, formData);\n      } else {\n        response = await casesAPI.createCase(formData);\n\n        // If there are uploaded files, upload them to the new case\n        if (uploadedFiles.length > 0) {\n          const newCaseId = response.data._id;\n          const formData = new FormData();\n          uploadedFiles.forEach(file => {\n            formData.append('files', file);\n          });\n          await casesAPI.uploadEvidence(newCaseId, formData);\n        }\n      }\n      setSaving(false);\n      setSuccess(true);\n\n      // Navigate back to cases list after a short delay\n      setTimeout(() => {\n        navigate('/cases');\n      }, 1500);\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError('Failed to save case: ' + (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message));\n      setSaving(false);\n    }\n  };\n  const handleDelete = async () => {\n    if (!window.confirm('Are you sure you want to delete this case? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      setLoading(true);\n      await casesAPI.deleteCase(caseId);\n      navigate('/cases');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setError('Failed to delete case: ' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.detail) || error.message));\n      setLoading(false);\n    }\n  };\n  const handleCancel = () => {\n    navigate('/cases');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: isEditMode ? 'Edit Case' : 'Create New Case'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 3\n      },\n      children: [\"Case \", isEditMode ? 'updated' : 'created', \" successfully!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        value: tabValue,\n        onChange: handleTabChange,\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Basic Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Location & Dates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Evidence & Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        children: [tabValue === 0 && /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Title\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleChange,\n              required: true,\n              error: Boolean(validationErrors.title),\n              helperText: validationErrors.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Description\",\n              name: \"description\",\n              value: formData.description,\n              onChange: handleChange,\n              multiline: true,\n              rows: 4,\n              required: true,\n              error: Boolean(validationErrors.description),\n              helperText: validationErrors.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              required: true,\n              error: Boolean(validationErrors.violation_types),\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"violation-types-label\",\n                children: \"Violation Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"violation-types-label\",\n                multiple: true,\n                value: formData.violation_types,\n                onChange: handleViolationTypeChange,\n                renderValue: selected => /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    gap: 0.5\n                  },\n                  children: selected.map(value => /*#__PURE__*/_jsxDEV(Chip, {\n                    label: value.split('_').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')\n                  }, value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"forced_displacement\",\n                  children: \"Forced Displacement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"property_destruction\",\n                  children: \"Property Destruction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"arbitrary_detention\",\n                  children: \"Arbitrary Detention\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"torture\",\n                  children: \"Torture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"extrajudicial_killing\",\n                  children: \"Extrajudicial Killing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"enforced_disappearance\",\n                  children: \"Enforced Disappearance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"sexual_violence\",\n                  children: \"Sexual Violence\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"child_recruitment\",\n                  children: \"Child Recruitment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), validationErrors.violation_types && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: validationErrors.violation_types\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"status-label\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"status-label\",\n                name: \"status\",\n                value: formData.status,\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"new\",\n                  children: \"New\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"under_investigation\",\n                  children: \"Under Investigation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"pending_evidence\",\n                  children: \"Pending Evidence\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"legal_action\",\n                  children: \"Legal Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"resolved\",\n                  children: \"Resolved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"closed\",\n                  children: \"Closed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"priority-label\",\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"priority-label\",\n                name: \"priority\",\n                value: formData.priority,\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"low\",\n                  children: \"Low\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"medium\",\n                  children: \"Medium\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"high\",\n                  children: \"High\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"urgent\",\n                  children: \"Urgent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), tabValue === 1 && /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Country\",\n              name: \"location.country\",\n              value: formData.location.country,\n              onChange: handleChange,\n              required: true,\n              error: Boolean(validationErrors['location.country']),\n              helperText: validationErrors['location.country']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Region/City\",\n              name: \"location.region\",\n              value: formData.location.region,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Date Occurred\",\n              name: \"date_occurred\",\n              type: \"date\",\n              value: formData.date_occurred,\n              onChange: handleChange,\n              InputLabelProps: {\n                shrink: true\n              },\n              required: true,\n              error: Boolean(validationErrors.date_occurred),\n              helperText: validationErrors.date_occurred\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Date Reported\",\n              name: \"date_reported\",\n              type: \"date\",\n              value: formData.date_reported,\n              onChange: handleChange,\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), tabValue === 2 && /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FileUploader, {\n              title: \"Upload Evidence Files\",\n              description: \"Upload photos, videos, documents, or other evidence related to this case\",\n              onUpload: handleFileUpload,\n              maxFiles: 10,\n              acceptedFileTypes: \"image/*,video/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n              maxFileSize: 20,\n              disabled: saving,\n              parentId: isEditMode ? caseId : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), isEditMode && formData.evidence && formData.evidence.length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Existing Evidence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: formData.evidence.map((item, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                label: item.filename || `Evidence ${index + 1}`,\n                sx: {\n                  m: 0.5\n                },\n                onClick: () => window.open(item.url, '_blank')\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3,\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"error\",\n            startIcon: /*#__PURE__*/_jsxDEV(CancelIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 26\n            }, this),\n            onClick: handleCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [isEditMode && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"error\",\n              startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 30\n              }, this),\n              sx: {\n                mr: 2\n              },\n              onClick: handleDelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              startIcon: saving ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 70\n              }, this),\n              disabled: saving,\n              children: saving ? 'Saving...' : 'Save Case'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n_s(CaseForm, \"QtsOJwzSD/IsXKo9K7vqsU8qEDE=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = CaseForm;\nexport default CaseForm;\nvar _c;\n$RefreshReg$(_c, \"CaseForm\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","casesAPI","Typography","Box","Paper","Grid","TextField","Button","FormControl","InputLabel","Select","MenuItem","Chip","CircularProgress","Divider","Alert","FormHelperText","Tab","Tabs","useNavigate","useParams","SaveIcon","CancelIcon","DeleteIcon","FileUploader","jsxDEV","_jsxDEV","CaseForm","_s","caseId","navigate","currentUser","isEditMode","Boolean","formData","setFormData","title","description","violation_types","status","priority","location","country","region","coordinates","date_occurred","date_reported","victims","perpetrators","evidence","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","validationErrors","setValidationErrors","tabValue","setTabValue","uploadedFiles","setUploadedFiles","fetchCaseData","response","getCaseById","data","_error$response","_error$response$data","detail","message","handleChange","e","name","value","target","includes","parent","child","split","prev","handleViolationTypeChange","handleTabChange","event","newValue","handleFileUpload","files","FormData","forEach","file","append","uploadEvidence","_error$response2","_error$response2$data","handleSubmit","preventDefault","errors","length","Object","keys","updateCase","createCase","newCaseId","_id","setTimeout","_error$response3","_error$response3$data","handleDelete","window","confirm","deleteCase","_error$response4","_error$response4$data","handleCancel","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","gutterBottom","severity","mb","p","onChange","label","onSubmit","container","spacing","item","xs","fullWidth","required","helperText","multiline","rows","md","id","labelId","multiple","renderValue","selected","flexWrap","gap","map","word","charAt","toUpperCase","slice","join","type","InputLabelProps","shrink","onUpload","maxFiles","acceptedFileTypes","maxFileSize","disabled","parentId","index","filename","m","onClick","open","url","mt","color","startIcon","mr","size","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/human_rights_monitor_vscode/human_rights_monitor_vscode/frontend/src/components/Cases/CaseForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { casesAPI } from '../../api';\nimport { \n  Typography, \n  Box, \n  Paper, \n  Grid,\n  TextField,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Chip,\n  CircularProgress,\n  Divider,\n  Alert,\n  FormHelperText,\n  Tab,\n  Tabs\n} from '@mui/material';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport SaveIcon from '@mui/icons-material/Save';\nimport CancelIcon from '@mui/icons-material/Cancel';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport FileUploader from '../common/FileUploader';\n\nconst CaseForm = () => {\n  const { caseId } = useParams();\n  const navigate = useNavigate();\n  const { currentUser } = useAuth();\n  const isEditMode = Boolean(caseId);\n  \n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    violation_types: [],\n    status: 'new',\n    priority: 'medium',\n    location: {\n      country: '',\n      region: '',\n      coordinates: null\n    },\n    date_occurred: '',\n    date_reported: '',\n    victims: [],\n    perpetrators: [],\n    evidence: []\n  });\n  \n  const [loading, setLoading] = useState(isEditMode);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [tabValue, setTabValue] = useState(0);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  \n  useEffect(() => {\n    if (isEditMode) {\n      const fetchCaseData = async () => {\n        try {\n          setLoading(true);\n          const response = await casesAPI.getCaseById(caseId);\n          setFormData(response.data);\n          setLoading(false);\n        } catch (error) {\n          setError('Failed to load case data: ' + (error.response?.data?.detail || error.message));\n          setLoading(false);\n        }\n      };\n\n      fetchCaseData();\n    }\n  }, [caseId, isEditMode]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    \n    // Handle nested fields\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n    \n    // Clear validation error when field is updated\n    if (validationErrors[name]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  const handleViolationTypeChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      violation_types: e.target.value\n    }));\n  };\n\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const handleFileUpload = async (files) => {\n    if (!isEditMode) {\n      // For new cases, just store the files temporarily\n      setUploadedFiles(files);\n      return;\n    }\n    \n    try {\n      // For existing cases, upload the files to the server\n      const formData = new FormData();\n      files.forEach(file => {\n        formData.append('files', file);\n      });\n      \n      const response = await casesAPI.uploadEvidence(caseId, formData);\n      \n      // Update the evidence list in the form data\n      setFormData(prev => ({\n        ...prev,\n        evidence: [...prev.evidence, ...response.data]\n      }));\n      \n      return response.data;\n    } catch (error) {\n      setError('Failed to upload evidence: ' + (error.response?.data?.detail || error.message));\n      throw error;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    const errors = {};\n    if (!formData.title) errors.title = 'Title is required';\n    if (!formData.description) errors.description = 'Description is required';\n    if (formData.violation_types.length === 0) errors.violation_types = 'At least one violation type is required';\n    if (!formData.location.country) errors['location.country'] = 'Country is required';\n    if (!formData.date_occurred) errors.date_occurred = 'Date occurred is required';\n    \n    if (Object.keys(errors).length > 0) {\n      setValidationErrors(errors);\n      return;\n    }\n    \n    setSaving(true);\n    setError(null);\n    setSuccess(false);\n    \n    try {\n      let response;\n      \n      if (isEditMode) {\n        response = await casesAPI.updateCase(caseId, formData);\n      } else {\n        response = await casesAPI.createCase(formData);\n        \n        // If there are uploaded files, upload them to the new case\n        if (uploadedFiles.length > 0) {\n          const newCaseId = response.data._id;\n          const formData = new FormData();\n          uploadedFiles.forEach(file => {\n            formData.append('files', file);\n          });\n          \n          await casesAPI.uploadEvidence(newCaseId, formData);\n        }\n      }\n      \n      setSaving(false);\n      setSuccess(true);\n      \n      // Navigate back to cases list after a short delay\n      setTimeout(() => {\n        navigate('/cases');\n      }, 1500);\n    } catch (error) {\n      setError('Failed to save case: ' + (error.response?.data?.detail || error.message));\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!window.confirm('Are you sure you want to delete this case? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      await casesAPI.deleteCase(caseId);\n      navigate('/cases');\n    } catch (error) {\n      setError('Failed to delete case: ' + (error.response?.data?.detail || error.message));\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    navigate('/cases');\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '80vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        {isEditMode ? 'Edit Case' : 'Create New Case'}\n      </Typography>\n      \n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n      \n      {success && (\n        <Alert severity=\"success\" sx={{ mb: 3 }}>\n          Case {isEditMode ? 'updated' : 'created'} successfully!\n        </Alert>\n      )}\n      \n      <Paper sx={{ p: 3 }}>\n        <Tabs value={tabValue} onChange={handleTabChange} sx={{ mb: 3 }}>\n          <Tab label=\"Basic Information\" />\n          <Tab label=\"Location & Dates\" />\n          <Tab label=\"Evidence & Files\" />\n        </Tabs>\n        \n        <Box component=\"form\" onSubmit={handleSubmit}>\n          {/* Basic Information Tab */}\n          {tabValue === 0 && (\n            <Grid container spacing={3}>\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  required\n                  error={Boolean(validationErrors.title)}\n                  helperText={validationErrors.title}\n                />\n              </Grid>\n              \n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Description\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleChange}\n                  multiline\n                  rows={4}\n                  required\n                  error={Boolean(validationErrors.description)}\n                  helperText={validationErrors.description}\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <FormControl fullWidth required error={Boolean(validationErrors.violation_types)}>\n                  <InputLabel id=\"violation-types-label\">Violation Types</InputLabel>\n                  <Select\n                    labelId=\"violation-types-label\"\n                    multiple\n                    value={formData.violation_types}\n                    onChange={handleViolationTypeChange}\n                    renderValue={(selected) => (\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {selected.map((value) => (\n                          <Chip \n                            key={value} \n                            label={value.split('_').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ')} \n                          />\n                        ))}\n                      </Box>\n                    )}\n                  >\n                    <MenuItem value=\"forced_displacement\">Forced Displacement</MenuItem>\n                    <MenuItem value=\"property_destruction\">Property Destruction</MenuItem>\n                    <MenuItem value=\"arbitrary_detention\">Arbitrary Detention</MenuItem>\n                    <MenuItem value=\"torture\">Torture</MenuItem>\n                    <MenuItem value=\"extrajudicial_killing\">Extrajudicial Killing</MenuItem>\n                    <MenuItem value=\"enforced_disappearance\">Enforced Disappearance</MenuItem>\n                    <MenuItem value=\"sexual_violence\">Sexual Violence</MenuItem>\n                    <MenuItem value=\"child_recruitment\">Child Recruitment</MenuItem>\n                    <MenuItem value=\"other\">Other</MenuItem>\n                  </Select>\n                  {validationErrors.violation_types && (\n                    <FormHelperText>{validationErrors.violation_types}</FormHelperText>\n                  )}\n                </FormControl>\n              </Grid>\n              \n              <Grid item xs={12} md={3}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"status-label\">Status</InputLabel>\n                  <Select\n                    labelId=\"status-label\"\n                    name=\"status\"\n                    value={formData.status}\n                    onChange={handleChange}\n                  >\n                    <MenuItem value=\"new\">New</MenuItem>\n                    <MenuItem value=\"under_investigation\">Under Investigation</MenuItem>\n                    <MenuItem value=\"pending_evidence\">Pending Evidence</MenuItem>\n                    <MenuItem value=\"legal_action\">Legal Action</MenuItem>\n                    <MenuItem value=\"resolved\">Resolved</MenuItem>\n                    <MenuItem value=\"closed\">Closed</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n              \n              <Grid item xs={12} md={3}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"priority-label\">Priority</InputLabel>\n                  <Select\n                    labelId=\"priority-label\"\n                    name=\"priority\"\n                    value={formData.priority}\n                    onChange={handleChange}\n                  >\n                    <MenuItem value=\"low\">Low</MenuItem>\n                    <MenuItem value=\"medium\">Medium</MenuItem>\n                    <MenuItem value=\"high\">High</MenuItem>\n                    <MenuItem value=\"urgent\">Urgent</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n            </Grid>\n          )}\n          \n          {/* Location & Dates Tab */}\n          {tabValue === 1 && (\n            <Grid container spacing={3}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Country\"\n                  name=\"location.country\"\n                  value={formData.location.country}\n                  onChange={handleChange}\n                  required\n                  error={Boolean(validationErrors['location.country'])}\n                  helperText={validationErrors['location.country']}\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Region/City\"\n                  name=\"location.region\"\n                  value={formData.location.region}\n                  onChange={handleChange}\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Date Occurred\"\n                  name=\"date_occurred\"\n                  type=\"date\"\n                  value={formData.date_occurred}\n                  onChange={handleChange}\n                  InputLabelProps={{ shrink: true }}\n                  required\n                  error={Boolean(validationErrors.date_occurred)}\n                  helperText={validationErrors.date_occurred}\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Date Reported\"\n                  name=\"date_reported\"\n                  type=\"date\"\n                  value={formData.date_reported}\n                  onChange={handleChange}\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n            </Grid>\n          )}\n          \n          {/* Evidence & Files Tab */}\n          {tabValue === 2 && (\n            <Grid container spacing={3}>\n              <Grid item xs={12}>\n                <FileUploader \n                  title=\"Upload Evidence Files\"\n                  description=\"Upload photos, videos, documents, or other evidence related to this case\"\n                  onUpload={handleFileUpload}\n                  maxFiles={10}\n                  acceptedFileTypes=\"image/*,video/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                  maxFileSize={20}\n                  disabled={saving}\n                  parentId={isEditMode ? caseId : null}\n                />\n              </Grid>\n              \n              {isEditMode && formData.evidence && formData.evidence.length > 0 && (\n                <Grid item xs={12}>\n                  <Typography variant=\"h6\" gutterBottom>\n                    Existing Evidence\n                  </Typography>\n                  <Box sx={{ mb: 2 }}>\n                    {formData.evidence.map((item, index) => (\n                      <Chip \n                        key={index}\n                        label={item.filename || `Evidence ${index + 1}`}\n                        sx={{ m: 0.5 }}\n                        onClick={() => window.open(item.url, '_blank')}\n                      />\n                    ))}\n                  </Box>\n                </Grid>\n              )}\n            </Grid>\n          )}\n          \n          <Box sx={{ mt: 3, display: 'flex', justifyContent: 'space-between' }}>\n            <Button\n              variant=\"outlined\"\n              color=\"error\"\n              startIcon={<CancelIcon />}\n              onClick={handleCancel}\n            >\n              Cancel\n            </Button>\n            \n            <Box>\n              {isEditMode && (\n                <Button\n                  variant=\"outlined\"\n                  color=\"error\"\n                  startIcon={<DeleteIcon />}\n                  sx={{ mr: 2 }}\n                  onClick={handleDelete}\n                >\n                  Delete\n                </Button>\n              )}\n              \n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={saving ? <CircularProgress size={24} /> : <SaveIcon />}\n                disabled={saving}\n              >\n                {saving ? 'Saving...' : 'Save Case'}\n              </Button>\n            </Box>\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default CaseForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}